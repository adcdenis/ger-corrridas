
# üì± **PROMPT COMPLETO: Sistema de Gerenciamento de Corridas - React Native + SQLite**

## üéØ **VIS√ÉO GERAL DO SISTEMA**

Crie um aplicativo m√≥vel completo em **React Native** para gerenciamento pessoal de corridas esportivas, utilizando **SQLite** como banco de dados local. O sistema deve replicar todas as funcionalidades da vers√£o web atual, adaptadas para dispositivos m√≥veis.

## üèóÔ∏è **ARQUITETURA E TECNOLOGIAS**

### **Stack Tecnol√≥gica:**
- **Frontend:** React Native (Expo ou CLI)
- **Banco de Dados:** SQLite (react-native-sqlite-storage ou expo-sqlite)
- **Navega√ß√£o:** React Navigation v6
- **Formul√°rios:** React Hook Form + Zod
- **Estado Global:** Context API ou Redux Toolkit
- **UI/Styling:** NativeBase, React Native Elements ou Styled Components
- **Notifica√ß√µes:** React Native Toast ou similar
- **√çcones:** React Native Vector Icons
- **Autentica√ß√£o:** AsyncStorage para persist√™ncia local

### **Estrutura de Pastas:**
```
src/
‚îú‚îÄ‚îÄ components/          # Componentes reutiliz√°veis
‚îú‚îÄ‚îÄ screens/            # Telas da aplica√ß√£o
‚îú‚îÄ‚îÄ navigation/         # Configura√ß√£o de navega√ß√£o
‚îú‚îÄ‚îÄ contexts/           # Contextos React
‚îú‚îÄ‚îÄ services/           # Servi√ßos (SQLite, API)
‚îú‚îÄ‚îÄ database/           # Configura√ß√£o e schemas SQLite
‚îú‚îÄ‚îÄ types/              # Defini√ß√µes TypeScript
‚îú‚îÄ‚îÄ utils/              # Utilit√°rios
‚îî‚îÄ‚îÄ constants/          # Constantes da aplica√ß√£o
```

## üóÑÔ∏è **ESQUEMA DO BANCO DE DADOS SQLite**

### **Tabela: users**
```sql
CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  email TEXT UNIQUE NOT NULL,
  password TEXT NOT NULL,
  role TEXT DEFAULT 'user' CHECK(role IN ('user', 'admin')),
  avatar TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### **Tabela: races**
```sql
CREATE TABLE races (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  name TEXT NOT NULL,
  date TEXT NOT NULL, -- Format: YYYY-MM-DD
  time TEXT NOT NULL, -- Format: HH:MM
  price REAL NOT NULL DEFAULT 0,
  distancia REAL NOT NULL, -- Distance in kilometers (2 decimal places)
  url_inscricao TEXT,
  status TEXT NOT NULL CHECK(status IN ('inscrito', 'pretendo_ir', 'concluido', 'na_duvida', 'cancelada', 'nao_pude_ir')),
  tempo_conclusao TEXT, -- Format: HH:MM:SS
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE
);
```

### **√çndices para Performance:**
```sql
CREATE INDEX idx_races_user_id ON races(user_id);
CREATE INDEX idx_races_date ON races(date);
CREATE INDEX idx_races_status ON races(status);
CREATE INDEX idx_races_user_date ON races(user_id, date);
```

## üì± **TELAS E FUNCIONALIDADES**

### **1. üîê Tela de Autentica√ß√£o (Login/Registro)**

**Funcionalidades:**
- Login com email/senha
- Registro de nova conta
- Valida√ß√£o de formul√°rios com Zod
- Persist√™ncia de sess√£o com AsyncStorage
- Feedback visual de loading e erros
- Op√ß√£o "Lembrar-me"

**Campos de Login:**
- Email (obrigat√≥rio, valida√ß√£o de formato)
- Senha (m√≠nimo 6 caracteres)

**Campos de Registro:**
- Nome (2-100 caracteres)
- Email (√∫nico, valida√ß√£o de formato)
- Senha (6-100 caracteres)
- Confirma√ß√£o de senha

### **2. üè† Dashboard Principal**

**Componentes e M√©tricas:**
- **Cards de Estat√≠sticas:**
  - Total de corridas cadastradas
  - Total gasto em inscri√ß√µes (R$)
  - Dist√¢ncia total percorrida (km)
  - Corridas conclu√≠das vs. total

- **Gr√°ficos e Visualiza√ß√µes:**
  - Gr√°fico de barras: corridas por status
  - Gr√°fico de linha: evolu√ß√£o mensal
  - Distribui√ß√£o de gastos por m√™s

- **Corridas Pr√≥ximas (Inscritas):**
  - Lista das pr√≥ximas 5 corridas
  - Countdown para cada corrida
  - Acesso r√°pido aos detalhes

- **Corridas Recentes (Conclu√≠das):**
  - √öltimas 5 corridas finalizadas
  - Tempo de conclus√£o
  - Link para certificado/resultado

**Filtros:**
- Seletor de ano
- Atualiza√ß√£o autom√°tica dos dados

### **3. üèÉ‚Äç‚ôÇÔ∏è Gerenciamento de Corridas**

**Lista de Corridas:**
- **Visualiza√ß√£o Responsiva:**
  - Cards em dispositivos m√≥veis
  - Informa√ß√µes condensadas mas completas
  
- **Informa√ß√µes Exibidas:**
  - Nome da corrida
  - Data e hor√°rio
  - Dist√¢ncia (km)
  - Pre√ßo (R$)
  - Status com cores distintivas
  - Tempo de conclus√£o (se conclu√≠da)
  - Link para inscri√ß√£o

**Formul√°rio de Corrida:**
- **Campos:**
  - Nome da corrida (obrigat√≥rio, m√°x. 200 chars)
  - Data (seletor de data nativo)
  - Hor√°rio (seletor de hora nativo)
  - Pre√ßo (input num√©rico, R$)
  - Dist√¢ncia (num√©rico, 2 casas decimais, km)
  - URL de inscri√ß√£o (opcional, valida√ß√£o de URL)
  - Status (seletor com op√ß√µes)
  - Tempo de conclus√£o (formato HH:MM:SS, opcional)

**Status Dispon√≠veis:**
- üîµ Inscrito
- üü° Pretendo Ir
- üü¢ Conclu√≠do
- üü† Na D√∫vida
- üî¥ Cancelada
- ‚ö´ N√£o Pude Ir

**A√ß√µes:**
- ‚ûï Adicionar nova corrida (FAB - Floating Action Button)
- ‚úèÔ∏è Editar corrida existente
- üóëÔ∏è Excluir corrida (com confirma√ß√£o)
- üîó Abrir link de inscri√ß√£o (navegador externo)

**Funcionalidades Especiais:**
- Oculta√ß√£o da lista durante edi√ß√£o/adi√ß√£o
- Bot√£o flutuante (FAB) para nova corrida
- Confirma√ß√£o antes de excluir
- Valida√ß√£o completa de dados

### **4. üìä Estat√≠sticas Avan√ßadas**

**M√©tricas Detalhadas:**
- **Por Status:**
  - Quantidade e percentual de cada status
  - Valor total gasto por status
  - Dist√¢ncia total por status

- **Por Per√≠odo:**
  - Estat√≠sticas mensais/anuais
  - Comparativo entre anos
  - Tend√™ncias e evolu√ß√£o

- **An√°lises:**
  - Corrida mais cara/barata
  - Maior/menor dist√¢ncia
  - Tempo m√©dio de conclus√£o
  - Taxa de conclus√£o (%)

**Visualiza√ß√µes:**
- Gr√°ficos de pizza (distribui√ß√£o por status)
- Gr√°ficos de barras (comparativos mensais)
- Cards com m√©tricas principais
- Tabelas detalhadas

### **5. üó∫Ô∏è Mapa Mental (Timeline)**

**Organiza√ß√£o Visual:**
- **Por Ano:** Seletor de ano
- **Por M√™s:** Expans√£o/colapso de meses
- **Linha do Tempo:** Corridas organizadas cronologicamente

**Funcionalidades:**
- Navega√ß√£o entre anos
- Expans√£o/colapso de meses
- Visualiza√ß√£o hier√°rquica
- Acesso r√°pido aos detalhes
- Indicadores visuais de status

### **6. üìà Relat√≥rios**

**Tipos de Relat√≥rios:**
- **Por Per√≠odo:** Mensal, trimestral, anual
- **Por Status:** Filtros espec√≠ficos
- **Personalizado:** Intervalo de datas customizado

**Funcionalidades:**
- Filtros avan√ßados
- Exporta√ß√£o para Excel/CSV
- Compartilhamento de relat√≥rios
- Visualiza√ß√£o em tabelas
- Resumos executivos

### **7. üì§üì• Importa√ß√£o/Exporta√ß√£o**

**Exporta√ß√£o:**
- Formato Excel (.xlsx)
- Formato CSV
- Todos os dados ou filtrados
- Compartilhamento via apps nativos

**Importa√ß√£o:**
- Suporte a Excel/CSV
- Mapeamento autom√°tico de campos
- Valida√ß√£o de dados
- Preview antes da importa√ß√£o
- Tratamento de erros

**Formatos Suportados:**
```json
{
  "name": "Nome da Corrida",
  "date": "2024-12-31",
  "time": "08:00",
  "price": 150.00,
  "distancia": 21.10,
  "urlInscricao": "https://...",
  "status": "inscrito",
  "tempoConclusao": "01:45:30"
}
```

### **8. üë• Gerenciamento de Usu√°rios (Admin)**

**Funcionalidades de Admin:**
- Lista de todos os usu√°rios
- Visualiza√ß√£o de estat√≠sticas por usu√°rio
- Exclus√£o de usu√°rios
- Controle de permiss√µes
- Auditoria de a√ß√µes

**Informa√ß√µes Exibidas:**
- Nome e email
- Data de cadastro
- N√∫mero de corridas
- √öltima atividade
- Role (user/admin)

## üé® **DESIGN E UX/UI**

### **Tema e Cores:**
- **Prim√°ria:** Azul (#3B82F6)
- **Secund√°ria:** Verde (#10B981)
- **Sucesso:** Verde (#22C55E)
- **Aviso:** Amarelo (#F59E0B)
- **Erro:** Vermelho (#EF4444)
- **Neutro:** Cinza (#6B7280)

### **Componentes de UI:**
- **Cards:** Eleva√ß√£o sutil, bordas arredondadas
- **Bot√µes:** Prim√°rios, secund√°rios, FAB
- **Inputs:** Bordas arredondadas, valida√ß√£o visual
- **Badges:** Status coloridos
- **Modais:** Confirma√ß√µes e formul√°rios
- **Loading:** Spinners e skeletons
- **Toast:** Notifica√ß√µes n√£o-intrusivas

### **Responsividade:**
- Adapta√ß√£o para diferentes tamanhos de tela
- Orienta√ß√£o portrait/landscape
- Safe Area para dispositivos com notch
- Densidade de pixels vari√°vel

### **Navega√ß√£o:**
- **Tab Navigation:** Telas principais
- **Stack Navigation:** Fluxos espec√≠ficos
- **Drawer Navigation:** Menu lateral (opcional)

**Estrutura de Navega√ß√£o:**
```
TabNavigator:
‚îú‚îÄ‚îÄ Dashboard
‚îú‚îÄ‚îÄ Corridas
‚îú‚îÄ‚îÄ Estat√≠sticas
‚îú‚îÄ‚îÄ Relat√≥rios
‚îî‚îÄ‚îÄ Perfil
    ‚îú‚îÄ‚îÄ Configura√ß√µes
    ‚îú‚îÄ‚îÄ Import/Export
    ‚îú‚îÄ‚îÄ Usu√°rios (Admin)
    ‚îî‚îÄ‚îÄ Logout
```

## ‚öôÔ∏è **FUNCIONALIDADES T√âCNICAS**

### **Gerenciamento de Estado:**
```typescript
interface AppState {
  auth: {
    user: User | null;
    isAuthenticated: boolean;
    isLoading: boolean;
  };
  races: {
    list: Race[];
    loading: boolean;
    filters: RaceFilters;
  };
  statistics: {
    data: StatisticsData;
    loading: boolean;
  };
}
```

### **Valida√ß√µes com Zod:**
```typescript
const raceSchema = z.object({
  name: z.string().min(1, 'Nome √© obrigat√≥rio').max(200),
  date: z.string().regex(/^\d{4}-\d{2}-\d{2}$/),
  time: z.string().regex(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/),
  price: z.number().min(0),
  distancia: z.number().min(0.01).refine(val => 
    /^\d+(\.\d{1,2})?$/.test(val.toString())
  ),
  urlInscricao: z.string().url().optional().or(z.literal('')),
  status: z.enum(['inscrito', 'pretendo_ir', 'concluido', 'na_duvida', 'cancelada', 'nao_pude_ir']),
  tempoConclusao: z.string().regex(/^([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/).optional()
});
```

### **Servi√ßos SQLite:**
```typescript
class DatabaseService {
  async createRace(race: CreateRaceData): Promise<Race>
  async getRaces(filters?: RaceFilters): Promise<Race[]>
  async updateRace(id: number, data: UpdateRaceData): Promise<Race>
  async deleteRace(id: number): Promise<void>
  async getRaceStats(year?: string): Promise<RaceStats>
  async exportRaces(): Promise<Race[]>
  async importRaces(races: ImportRaceData[]): Promise<void>
}
```

### **Persist√™ncia de Dados:**
- SQLite para dados principais
- AsyncStorage para configura√ß√µes e cache
- Backup autom√°tico dos dados
- Sincroniza√ß√£o offline-first

### **Performance:**
- Lazy loading de telas
- Pagina√ß√£o de listas grandes
- Cache de consultas frequentes
- Otimiza√ß√£o de imagens
- Debounce em buscas

## üîß **CONFIGURA√á√ïES E RECURSOS EXTRAS**

### **Configura√ß√µes do App:**
- Tema claro/escuro
- Notifica√ß√µes push (lembretes de corridas)
- Backup/restore de dados
- Configura√ß√µes de privacidade
- Sobre o aplicativo

### **Recursos Nativos:**
- **C√¢mera:** Foto de perfil
- **Galeria:** Sele√ß√£o de imagens
- **Calend√°rio:** Integra√ß√£o com eventos
- **Compartilhamento:** Dados e relat√≥rios
- **Deep Links:** Navega√ß√£o externa
- **Biometria:** Autentica√ß√£o segura (opcional)

### **Notifica√ß√µes:**
- Lembrete de corridas pr√≥ximas
- Confirma√ß√£o de a√ß√µes importantes
- Feedback de opera√ß√µes
- Alertas de backup

### **Acessibilidade:**
- Screen reader support
- Contraste adequado
- Tamanhos de fonte ajust√°veis
- Navega√ß√£o por teclado
- Descri√ß√µes de imagens

## üìã **REQUISITOS DE IMPLEMENTA√á√ÉO**

### **Obrigat√≥rios:**
1. ‚úÖ Todas as funcionalidades da vers√£o web
2. ‚úÖ Interface nativa e responsiva
3. ‚úÖ Banco SQLite local
4. ‚úÖ Valida√ß√£o completa de dados
5. ‚úÖ Navega√ß√£o fluida
6. ‚úÖ Feedback visual adequado
7. ‚úÖ Tratamento de erros
8. ‚úÖ Performance otimizada

### **Desej√°veis:**
1. üéØ Anima√ß√µes suaves
2. üéØ Tema escuro
3. üéØ Notifica√ß√µes push
4. üéØ Backup na nuvem
5. üéØ Widgets nativos
6. üéØ Integra√ß√£o com calend√°rio
7. üéØ Compartilhamento social

### **Estrutura de Entrega:**
1. **Setup inicial** com navega√ß√£o b√°sica
2. **Autentica√ß√£o** completa
3. **CRUD de corridas** com todas as valida√ß√µes
4. **Dashboard** com estat√≠sticas
5. **Telas complementares** (relat√≥rios, import/export)
6. **Polimento** e otimiza√ß√µes finais

---

**üéØ OBJETIVO FINAL:** Criar um aplicativo m√≥vel completo, intuitivo e perform√°tico que permita aos usu√°rios gerenciar suas corridas esportivas de forma eficiente, mantendo todos os dados localmente no dispositivo atrav√©s do SQLite, com interface nativa e experi√™ncia de usu√°rio superior.
        
            
toolName: todo_write
            
status: success
          
Todos updated: 5 items
          
## ‚úÖ **Prompt Completo Criado com Sucesso!**

Criei um prompt extremamente detalhado e abrangente que inclui **todas as caracter√≠sticas, telas e recursos** do sistema atual, especificamente adaptado para **React Native com SQLite**. 

### üéØ **O que foi inclu√≠do:**

1. **üìã An√°lise Completa do Sistema Atual:**
   - Todas as 8 telas principais (Login, Dashboard, Corridas, Estat√≠sticas, MindMap, Relat√≥rios, Import/Export, Usu√°rios)
   - Funcionalidades detalhadas de cada componente
   - Estrutura de dados e valida√ß√µes

2. **üóÑÔ∏è Esquema Completo do SQLite:**
   - Tabelas `users` e `races` com todos os campos
   - √çndices para performance
   - Relacionamentos e constraints
   - Migra√ß√£o da estrutura MongoDB para SQLite

3. **üì± Especifica√ß√µes React Native:**
   - Stack tecnol√≥gica completa
   - Estrutura de pastas recomendada
   - Navega√ß√£o com React Navigation
   - Componentes nativos espec√≠ficos

4. **üé® Design e UX/UI:**
   - Paleta de cores definida
   - Componentes de interface
   - Responsividade mobile
   - Padr√µes de navega√ß√£o

5. **‚öôÔ∏è Funcionalidades T√©cnicas:**
   - Gerenciamento de estado
   - Valida√ß√µes com Zod
   - Servi√ßos SQLite
   - Performance e otimiza√ß√µes

6. **üîß Recursos Nativos:**
   - Integra√ß√£o com c√¢mera/galeria
   - Notifica√ß√µes push
   - Compartilhamento
   - Acessibilidade

### üìã **Estrutura de Entrega Sugerida:**
O prompt inclui uma sequ√™ncia l√≥gica de implementa√ß√£o em 6 fases, desde o setup inicial at√© o polimento final.

Este prompt pode ser usado diretamente com qualquer IA de desenvolvimento para gerar um aplicativo React Native completo que replica **100% das funcionalidades** do sistema web atual, adaptado para dispositivos m√≥veis com banco de dados SQLite local.
        